// Generated by hkj-processor. Do not edit.
package org.higherkindedj.hkt.expression;

import java.util.Objects;
import java.util.function.Function;
import org.higherkindedj.hkt.Kind;
import org.higherkindedj.hkt.effect.EitherPath;
import org.higherkindedj.hkt.effect.Path;
import org.higherkindedj.hkt.either.EitherKind;
import org.higherkindedj.hkt.either.EitherKindHelper;
import org.higherkindedj.hkt.either.EitherMonad;
import org.higherkindedj.hkt.function.Function9;
import org.higherkindedj.hkt.tuple.Tuple;
import org.higherkindedj.hkt.tuple.Tuple9;
import org.higherkindedj.hkt.tuple.Tuple10;
import org.higherkindedj.optics.annotations.Generated;

/** Step 9 in a EitherPath comprehension. */
@Generated
public final class EitherPathSteps9<E, A, B, C, D, F, G, H, I, J> {

  private final Kind<EitherKind.Witness<E>, Tuple9<A, B, C, D, F, G, H, I, J>> computation;

  private static <E> EitherMonad<E> monad() {
    return EitherMonad.instance();
  }

  EitherPathSteps9(Kind<EitherKind.Witness<E>, Tuple9<A, B, C, D, F, G, H, I, J>> computation) {
    this.computation = computation;
  }

  public <K> EitherPathSteps10<E, A, B, C, D, F, G, H, I, J, K> from(
      Function<Tuple9<A, B, C, D, F, G, H, I, J>, EitherPath<E, K>> next) {
    EitherMonad<E> m = monad();
    Kind<EitherKind.Witness<E>, Tuple10<A, B, C, D, F, G, H, I, J, K>> newComp =
        m.flatMap(
            t -> m.map(
                k -> Tuple.of(t._1(), t._2(), t._3(), t._4(), t._5(), t._6(), t._7(), t._8(), t._9(), k),
                EitherKindHelper.EITHER.widen(next.apply(t).run())),
            computation);
    return new EitherPathSteps10<>(newComp);
  }

  public <K> EitherPathSteps10<E, A, B, C, D, F, G, H, I, J, K> let(
      Function<Tuple9<A, B, C, D, F, G, H, I, J>, K> f) {
    EitherMonad<E> m = monad();
    Kind<EitherKind.Witness<E>, Tuple10<A, B, C, D, F, G, H, I, J, K>> newComp =
        m.map(
            t -> Tuple.of(t._1(), t._2(), t._3(), t._4(), t._5(), t._6(), t._7(), t._8(), t._9(), f.apply(t)),
            computation);
    return new EitherPathSteps10<>(newComp);
  }

  public <K> EitherPathSteps10<E, A, B, C, D, F, G, H, I, J, K> focus(
      Function<Tuple9<A, B, C, D, F, G, H, I, J>, K> extractor) {
    Objects.requireNonNull(extractor, "extractor must not be null");
    return let(extractor);
  }

  public <R> EitherPath<E, R> yield(Function9<A, B, C, D, F, G, H, I, J, R> f) {
    EitherMonad<E> m = monad();
    Kind<EitherKind.Witness<E>, R> result =
        m.map(
            t -> Objects.requireNonNull(
                f.apply(t._1(), t._2(), t._3(), t._4(), t._5(), t._6(), t._7(), t._8(), t._9()),
                "The yield function must not return null."),
            computation);
    return Path.either(EitherKindHelper.EITHER.narrow(result));
  }

  public <R> EitherPath<E, R> yield(Function<Tuple9<A, B, C, D, F, G, H, I, J>, R> f) {
    EitherMonad<E> m = monad();
    Kind<EitherKind.Witness<E>, R> result =
        m.map(
            t -> Objects.requireNonNull(f.apply(t), "The yield function must not return null."),
            computation);
    return Path.either(EitherKindHelper.EITHER.narrow(result));
  }
}
